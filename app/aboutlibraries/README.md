## Open Source Licenses

The Settings page contains an "Open Source Licenses" link which
describes the Open Source components used in the app.

The page is generated using the AboutLibraries plugin from
https://github.com/mikepenz/AboutLibraries

## Fine-tuning

The plugin extracts information from all of the libraries
used in the project, but some of them (e.g. Zxing) are not used
in the release code. To see the release libraries, use

```
./gradlew app:dependencies --configuration sampleReleaseRuntimeClasspath
./gradlew privateanalytics:dependencies --configuration releaseRuntimeClasspath
```

The basic output is a digraph. To remove the structure and repetition, leaving
a list, pass the output into this Python script

```
import re
import sys

dependencies = set()
for line in sys.stdin.readlines():
  match = re.search(r'--- ([^:]+:[^:]+):(\S+)( -> (\S+))?', line)
  if match:
    library, version, _, actual_version = match.groups()
    dependencies.add('%s:%s' % (library, actual_version or version))

print('\n'.join(sorted(dependencies)))
```

### `exportLibraries.txt`

This file is generated by running

```
./gradlew exportLibraries > app/aboutlibraries/exportLibraries.txt 2>&1
```

It is used to work out the mappings and exclusions needed to
adjust the Open Source Licenses page. Tip: use an editor to sort the
LIBRARIES and LICENSES sections, to make it easier to diff between versions.

### `custom_license_mapping.prop`

This file overrides the license information discovered by the plugin, and
is used when the license name is not recognised or the URL doesn't work.

### `custom_exclusion_list.prop`

This file lists the components which should not be displayed, because they
are not directly used in the Release build.

